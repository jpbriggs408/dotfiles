- defaults:
    link:
      relink: true
      create: true

- clean: ['~']

- link:
    ~/.bash_profile: bash/bash_profile
    ~/.bashrc: bash/bashrc
    ~/.gitconfig: git/gitconfig
    ~/.shell_common: shell/shell_common
    ~/.zprofile: zsh/zprofile
    ~/.zshrc: zsh/zshrc

    ~/.config/starship.toml: starship/starship.toml

    # VS Code Linux
    ~/.config/Code/User/settings.json:
      if: '[[ `uname` = Linux ]]'
      path: vscode/settings.json
      force: true

    # VS Code macOS
    ~/Library/Application Support/Code/User/settings.json:
      if: '[ `uname` = Darwin ]'
      path: vscode/settings.json
      force: true
- shell:
   -
      command: >
        if ! command -v starship &> /dev/null; then
          echo "Starship not found. Installing Starship..."
          curl -fsSL https://starship.rs/install.sh | sh -s -- --yes
        else
          echo "Starship is already installed."
        fi
      stdout: true
      stderr: true
    - [git submodule update --init --recursive, Installing submodules]
